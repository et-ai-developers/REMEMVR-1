[START] Step 05: Fit LMM with Domain x Time Interaction
[LOAD] Loading LMM input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[INFO] Domains: ['What', 'When', 'Where']
[INFO] Participants: 100
[INFO] Observations: 1200
[ANALYSIS] Fitting LMM with formula: theta ~ domain * log_TSVR
[ANALYSIS] Random effects: ~log_TSVR | UID (random intercept + slope)
[ERROR] Error evaluating factor: NameError: name 'log_TSVR' is not defined
    ~log_TSVR
     ^^^^^^^^
[TRACEBACK] Full error details:
[START] Step 05: Fit LMM with Domain x Time Interaction
[LOAD] Loading LMM input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[INFO] Domains: ['What', 'When', 'Where']
[INFO] Participants: 100
[INFO] Observations: 1200
[ANALYSIS] Fitting LMM with formula: theta ~ C(domain) * log_TSVR
[ANALYSIS] Random effects: (1 | UID) - random intercept only
[DONE] LMM fitting complete
[INFO] Converged: True
[INFO] AIC: 506.19
[INFO] BIC: 546.91
[EXTRACT] Extracting fixed effects coefficients...
[INFO] Number of fixed effects: 6
[INFO] Fixed effect terms: ['Intercept', 'C(domain)[T.When]', 'C(domain)[T.Where]', 'log_TSVR', 'C(domain)[T.When]:log_TSVR', 'C(domain)[T.Where]:log_TSVR']
[EXTRACT] Fixed effects table created (6 rows)
[RESULTS] Fixed Effects:
  Intercept: coef=-0.3575, p=0.0000 ***
  C(domain)[T.When]: coef=0.0770, p=0.0596 
  C(domain)[T.Where]: coef=-0.0287, p=0.4831 
  log_TSVR: coef=-0.1177, p=0.0000 ***
  C(domain)[T.When]:log_TSVR: coef=-0.0253, p=0.0202 *
  C(domain)[T.Where]:log_TSVR: coef=-0.0012, p=0.9159 
[INFO] Domain x Time interaction terms found: ['C(domain)[T.When]:log_TSVR', 'C(domain)[T.Where]:log_TSVR']
[HYPOTHESIS] C(domain)[T.When]:log_TSVR: p=0.0202 -> SIGNIFICANT (p < 0.05)
[HYPOTHESIS] C(domain)[T.Where]:log_TSVR: p=0.9159 -> NULL (p >= 0.05)
[SAVE] Saving fixed effects table...
[SAVED] step05_lmm_coefficients.csv (6 rows, 5 cols)
[SAVE] Saving full LMM summary...
[ERROR] name 're_formula' is not defined
[TRACEBACK] Full error details:
Traceback (most recent call last):
  File "/home/etai/projects/REMEMVR/results/ch6/6.3.1/code/step05_fit_lmm.py", line 252, in <module>
    f.write(f"Random effects: {re_formula}\n")
                               ^^^^^^^^^^
NameError: name 're_formula' is not defined. Did you mean: 'formula'?
[START] Step 05: Fit LMM with Domain x Time Interaction
[LOAD] Loading LMM input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[INFO] Domains: ['What', 'When', 'Where']
[INFO] Participants: 100
[INFO] Observations: 1200
[ANALYSIS] Fitting LMM with formula: theta ~ C(domain) * log_TSVR
[ANALYSIS] Random effects: (1 | UID) - random intercept only
[DONE] LMM fitting complete
[INFO] Converged: True
[INFO] AIC: 506.19
[INFO] BIC: 546.91
[EXTRACT] Extracting fixed effects coefficients...
[INFO] Number of fixed effects: 6
[INFO] Fixed effect terms: ['Intercept', 'C(domain)[T.When]', 'C(domain)[T.Where]', 'log_TSVR', 'C(domain)[T.When]:log_TSVR', 'C(domain)[T.Where]:log_TSVR']
[EXTRACT] Fixed effects table created (6 rows)
[RESULTS] Fixed Effects:
  Intercept: coef=-0.3575, p=0.0000 ***
  C(domain)[T.When]: coef=0.0770, p=0.0596 
  C(domain)[T.Where]: coef=-0.0287, p=0.4831 
  log_TSVR: coef=-0.1177, p=0.0000 ***
  C(domain)[T.When]:log_TSVR: coef=-0.0253, p=0.0202 *
  C(domain)[T.Where]:log_TSVR: coef=-0.0012, p=0.9159 
[INFO] Domain x Time interaction terms found: ['C(domain)[T.When]:log_TSVR', 'C(domain)[T.Where]:log_TSVR']
[HYPOTHESIS] C(domain)[T.When]:log_TSVR: p=0.0202 -> SIGNIFICANT (p < 0.05)
[HYPOTHESIS] C(domain)[T.Where]:log_TSVR: p=0.9159 -> NULL (p >= 0.05)
[SAVE] Saving fixed effects table...
[SAVED] step05_lmm_coefficients.csv (6 rows, 5 cols)
[SAVE] Saving full LMM summary...
[SAVED] step05_lmm_summary.txt
[VALIDATION] Running validate_lmm_convergence...
[VALIDATION] converged: True
[VALIDATION] message: LMM converged successfully
[SUCCESS] Step 05 complete - Domain x Time interaction tested
