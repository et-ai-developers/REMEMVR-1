[START] Step 07: Prepare Trajectory Plot Data
[LOAD] Loading input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[LOADED] step03_pass2_item_params.csv (72 rows, 6 cols)
[ANALYSIS] Aggregating theta scores by domain and timepoint...
[DONE] Aggregated to 885 rows (domains × timepoints)
[INFO] Domains present: ['What', 'When', 'Where']
[INFO] Timepoints per domain: {'What': 295, 'When': 295, 'Where': 295}
[SAVE] Saving theta-scale plot data...
[SAVED] step07_trajectory_theta_data.csv (885 rows, 6 cols)
[ANALYSIS] Computing mean discrimination per domain...
[INFO] Mean discrimination for What: 3.7934 (18 items)
[INFO] Mean discrimination for Where: 3.9577 (36 items)
[INFO] Mean discrimination for When: 3.5168 (18 items)
[ANALYSIS] Transforming theta to probability scale...
[DONE] Probability transformation complete
[SAVE] Saving probability-scale plot data...
[SAVED] step07_trajectory_probability_data.csv (885 rows, 6 cols)
[VALIDATION] Running validation checks...
[VALIDATION] [PASS] Both datasets have 885 rows
[VALIDATION] [PASS] Row count matches expected: 885 rows (3 domains × 295 timepoints)
[ERROR] NaN values found in theta_data
[TRACEBACK] Full error details:
Traceback (most recent call last):
  File "/home/etai/projects/REMEMVR/results/ch6/6.3.1/code/step07_prepare_trajectory_plot_data.py", line 341, in <module>
    raise ValueError("NaN values found in theta_data")
ValueError: NaN values found in theta_data
[START] Step 07: Prepare Trajectory Plot Data
[LOAD] Loading input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[LOADED] step03_pass2_item_params.csv (72 rows, 6 cols)
[ANALYSIS] Aggregating theta scores by domain and test...
[DONE] Aggregated to 12 rows (domains × tests)
[INFO] Domains present: ['What', 'When', 'Where']
[ERROR] 'Column not found: test'
[TRACEBACK] Full error details:
Traceback (most recent call last):
  File "/home/etai/projects/REMEMVR/results/ch6/6.3.1/code/step07_prepare_trajectory_plot_data.py", line 198, in <module>
    log(f"[INFO] Tests per domain: {theta_data.groupby('domain')['test'].count().to_dict()}")
                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/etai/projects/REMEMVR/.venv/lib/python3.12/site-packages/pandas/core/groupby/generic.py", line 1951, in __getitem__
    return super().__getitem__(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/etai/projects/REMEMVR/.venv/lib/python3.12/site-packages/pandas/core/base.py", line 245, in __getitem__
    raise KeyError(f"Column not found: {key}")
KeyError: 'Column not found: test'
[START] Step 07: Prepare Trajectory Plot Data
[LOAD] Loading input data...
[LOADED] step04_lmm_input.csv (1200 rows, 7 cols)
[LOADED] step03_pass2_item_params.csv (72 rows, 6 cols)
[ANALYSIS] Aggregating theta scores by domain and test...
[DONE] Aggregated to 12 rows (domains × tests)
[INFO] Domains present: ['What', 'When', 'Where']
[INFO] Tests per domain: {'What': 4, 'When': 4, 'Where': 4}
[SAVE] Saving theta-scale plot data...
[SAVED] step07_trajectory_theta_data.csv (12 rows, 6 cols)
[ANALYSIS] Computing mean discrimination per domain...
[INFO] Mean discrimination for What: 3.7934 (18 items)
[INFO] Mean discrimination for Where: 3.9577 (36 items)
[INFO] Mean discrimination for When: 3.5168 (18 items)
[ANALYSIS] Transforming theta to probability scale...
[DONE] Probability transformation complete
[SAVE] Saving probability-scale plot data...
[SAVED] step07_trajectory_probability_data.csv (12 rows, 6 cols)
[VALIDATION] Running validation checks...
[VALIDATION] [PASS] Both datasets have 12 rows
[VALIDATION] [PASS] Row count matches expected: 12 rows (3 domains × 4 timepoints)
[VALIDATION] [PASS] No NaN values in theta_data
[VALIDATION] [PASS] No NaN values in probability_data
[VALIDATION] [PASS] All theta CI bounds valid (CI_lower < CI_upper)
[VALIDATION] [PASS] All probability CI bounds valid (CI_lower < CI_upper)
[VALIDATION] [PASS] All probability values valid (n=3 columns, 36 total values in [0, 1]).
[VALIDATION] All validation checks passed
[VALIDATION] Theta range: [-1.0414, -0.3861]
[VALIDATION] Probability range: [0.0160, 0.2046]
[SUCCESS] Step 07 complete
