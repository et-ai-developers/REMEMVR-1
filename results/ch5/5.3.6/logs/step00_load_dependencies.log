[START] Step 00: Load Dependencies and Validate
[INFO] Source RQ: /home/etai/projects/REMEMVR/results/ch5/5.3.1
[INFO] Target RQ: /home/etai/projects/REMEMVR/results/ch5/5.3.6

[CHECK 1] Verifying dependency files exist...
  Checking status: /home/etai/projects/REMEMVR/results/ch5/5.3.1/status.yaml
    [PASS] File exists and meets size requirement
  Checking purified_items: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step02_purified_items.csv
    [PASS] File exists and meets size requirement
  Checking theta_scores: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step03_theta_scores.csv
    [PASS] File exists and meets size requirement
  Checking tsvr_mapping: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step00_tsvr_mapping.csv
    [PASS] File exists and meets size requirement
[PASS] All dependency files exist

[CHECK 2] Verifying RQ 5.3.1 completion status...
  [PASS] RQ 5.3.1 completed successfully (rq_results.status = success)
[PASS] RQ 5.3.1 completed successfully

[CHECK 3] Validating CSV file schemas...
  Validating purified_items: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step02_purified_items.csv
    [FAIL] Column mismatch

[ERROR] Schema validation failed for purified_items: Column mismatch

[TRACEBACK] Full error details:
Traceback (most recent call last):
  File "/home/etai/projects/REMEMVR/results/ch5/5.3.6/code/step00_load_dependencies.py", line 406, in <module>
    raise ValueError(f"Schema validation failed for {file_key}: {result['message']}")
ValueError: Schema validation failed for purified_items: Column mismatch

[FAIL] Step 00: Load Dependencies and Validate
RQ 5.3.1 incomplete - run RQ 5.3.1 before RQ 5.3.6
[START] Step 00: Load Dependencies and Validate
[INFO] Source RQ: /home/etai/projects/REMEMVR/results/ch5/5.3.1
[INFO] Target RQ: /home/etai/projects/REMEMVR/results/ch5/5.3.6

[CHECK 1] Verifying dependency files exist...
  Checking status: /home/etai/projects/REMEMVR/results/ch5/5.3.1/status.yaml
    [PASS] File exists and meets size requirement
  Checking purified_items: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step02_purified_items.csv
    [PASS] File exists and meets size requirement
  Checking theta_scores: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step03_theta_scores.csv
    [PASS] File exists and meets size requirement
  Checking tsvr_mapping: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step00_tsvr_mapping.csv
    [PASS] File exists and meets size requirement
[PASS] All dependency files exist

[CHECK 2] Verifying RQ 5.3.1 completion status...
  [PASS] RQ 5.3.1 completed successfully (rq_results.status = success)
[PASS] RQ 5.3.1 completed successfully

[CHECK 3] Validating CSV file schemas...
  Validating purified_items: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step02_purified_items.csv
    [PASS] Schema validation passed
      Rows: 45
      Columns: item, domain, Discrimination, Difficulty_1
  Validating theta_scores: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step03_theta_scores.csv
    [PASS] Schema validation passed
      Rows: 1200
      Columns: composite_ID, domain_name, theta
  Validating tsvr_mapping: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step00_tsvr_mapping.csv
    [PASS] Schema validation passed
      Rows: 400
      Columns: composite_ID, UID, test, TSVR_hours
[PASS] All CSV schemas validated

[STEP 4] Copying dependency files to RQ 5.3.6/data/...
  Copying purified_items...
    Source: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step02_purified_items.csv
    Dest:   /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_purified_items.csv
    [COPIED] 2,452 bytes
  Copying theta_scores...
    Source: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step03_theta_scores.csv
    Dest:   /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_theta_scores.csv
    [COPIED] 35,963 bytes
  Copying tsvr_mapping...
    Source: /home/etai/projects/REMEMVR/results/ch5/5.3.1/data/step00_tsvr_mapping.csv
    Dest:   /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_tsvr_mapping.csv
    [COPIED] 7,914 bytes
[PASS] All files copied successfully

[STEP 5] Writing validation report...
  [SAVED] /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_dependency_validation_report.txt
  Size: 2,492 bytes

================================================================================
[SUCCESS] Step 00: Load Dependencies and Validate
================================================================================

Validation Summary:
  [PASS] All 4 dependency files exist
  [PASS] RQ 5.3.1 status shows success
  [PASS] All CSV schemas validated
  [PASS] All files copied to RQ 5.3.6/data/
  [PASS] Validation report written

Output Files:
  - /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_purified_items.csv (45 items)
  - /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_theta_scores.csv (1200 rows, long format)
  - /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_tsvr_mapping.csv (400 rows)
  - /home/etai/projects/REMEMVR/results/ch5/5.3.6/data/step00_dependency_validation_report.txt

Data Structure:
  - purified_items: ['item', 'domain', 'Discrimination', 'Difficulty_1']
  - theta_scores: ['composite_ID', 'domain_name', 'theta'] (long format)
  - tsvr_mapping: ['composite_ID', 'UID', 'test', 'TSVR_hours']
  - Domain mapping: free_recall=IFR, cued_recall=ICR, recognition=IRE

Next: Step 01 - Map Items by Paradigm (Retained vs Removed)
