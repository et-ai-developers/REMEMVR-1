module	component	plan_expects	code_delivers	refactor_severity
tools.analysis_irt	calibrate_grm	Backwards compat wrapper for calibrate_irt	Clean wrapper - calls calibrate_irt() correctly	NONE
tools.analysis_irt	calibrate_irt	Full IRT pipeline: prepare→config→fit→extract theta+params	BROKEN: Calls 4 non-existent functions (prepare_irt_data, fit_irt_model, extract_theta_scores, extract_item_parameters) - will NameError on line 457	CRITICAL - Fix 4 function name mismatches
tools.analysis_irt	configure_irt_model	Build IWAVE GRM model with Q-matrix and correlated factors	Correct implementation - validates inputs, sets seed, instantiates IWAVE	NONE
tools.analysis_irt	extract_parameters_from_irt	Extract item a/b parameters from fitted model	Correct - calculates discrimination (L2 norm) and difficulty (mean threshold), handles dichotomous/polytomous	NONE
tools.analysis_irt	extract_theta_from_irt	Extract theta scores with batched scoring for GPU	Correct - batched scoring, splits composite_ID→UID+test, optional scale inversion	NONE
tools.analysis_irt	filter_items_by_quality	D039 purification: exclude items with a<0.4 or |b|>3.0	Correct - detects multivariate format, applies thresholds, returns purified+excluded with reasons	NONE
tools.analysis_irt	fit_irt_grm	Fit IWAVE model via variational inference	Correct - calls model.fit(), clears GPU cache	NONE
tools.analysis_irt	prepare_irt_input_from_wide	Convert long→wide, create Q-matrix, validate confirmatory model	NAMING CONFUSION: Function name says from_wide but actually converts long→wide (implementation correct, name misleading)	LOW - Rename to prepare_irt_input_from_long
tools.analysis_lmm	compare_lmm_models_by_aic	Fit 5 trajectory models, compare AIC, select best	Correct - generates 5 models, fits all, calculates AIC weights, caches .pkl files	MODERATE - Silent failures (AIC=inf if model fails), no convergence validation
tools.analysis_lmm	compute_contrasts_pairwise	D068: Post-hoc contrasts with dual p-values (uncorrected + Bonferroni)	API MISMATCH: Searches for C(Domain,...) but prepare_lmm_input creates 'Factor' column - will fail silently	HIGH - Rename Factor→Domain OR update search pattern
tools.analysis_lmm	compute_effect_sizes_cohens	Calculate Cohen's f² effect sizes	INCORRECT FORMULA: Uses (β/SE)²/n instead of proper nested model R² comparison - produces approximations not true f²	MODERATE - Rename to approximate_effect_size OR reimplement proper f²
tools.analysis_lmm	configure_candidate_models	Generate 5 LMM formulas (Linear/Quad/Log/Lin+Log/Quad+Log) with Factor interaction	Correct - creates 5 formulas with Factor*Time interaction, hardcoded re_formula='~Days'	LOW - Hardcoded random effects structure (cannot test alternatives)
tools.analysis_lmm	extract_fixed_effects_from_lmm	Extract fixed effects table from fitted model	Correct - extracts from summary table, handles DataFrame/SimpleTable formats, standardizes columns	NONE
tools.analysis_lmm	extract_random_effects_from_lmm	Extract random effects variance + ICC	Correct - extracts cov_re, calculates ICC from random intercept variance	LOW - Assumes first cov_re element is intercept (not validated)
tools.analysis_lmm	fit_lmm_trajectory_tsvr	D070: Fit LMM with TSVR time variable (actual hours→days)	FRAGILE: Multiple column name fallbacks, silent missing data warnings, no validation of TSVR ranges	MODERATE - Add input validation, standardize column names
tools.analysis_lmm	prepare_lmm_input_from_theta	Convert theta wide→long, add time variables (Days, Days_sq, log_Days)	CONFLICTS WITH D070: Uses nominal days {1:0,2:1,3:3,4:6} instead of TSVR - creates 'Factor' column not 'Domain'	HIGH - Should NOT be used for RQ 5.1 (use fit_lmm_trajectory_tsvr instead)
tools.plotting	convert_theta_to_probability	D069: Convert theta→probability using 2PL formula	Correct - implements P=1/(1+exp(-a(θ-b))), vectorized, no assumptions	NONE
tools.validation	validate_irt_convergence	Check model_converged flag, report convergence status	Correct - reads converged bool, optional loss/epochs, warns if not converged	NONE
tools.validation	validate_irt_parameters	Flag items with a<0.4 or |b|>3.0 (psychometric quality)	Correct - validates against thresholds, returns flagged items with reasons	NONE
tools.validation	validate_lmm_convergence	Check LMM convergence from fitted model	CONSERVATIVE DEFAULT: Returns converged=True if attribute missing (works for statsmodels)	LOW - Could be stricter (default to False)
tools.validation	validate_lmm_residuals	Test residual normality (Shapiro-Wilk <5k, KS ≥5k)	PARTIAL ISSUE: Shapiro correct, KS test doesn't standardize residuals before testing vs standard normal	LOW - Standardize residuals if n≥5000
